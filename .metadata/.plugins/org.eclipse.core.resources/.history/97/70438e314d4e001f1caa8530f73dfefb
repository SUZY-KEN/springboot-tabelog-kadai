package com.example.nagoyameshi.service;

import java.util.List;

import org.springframework.stereotype.Service;

import com.example.nagoyameshi.entity.Restaurants;
import com.example.nagoyameshi.form.RestaurantCreateForm;
import com.example.nagoyameshi.repository.RestaurantRepository;

import jakarta.transaction.Transactional;

@Service
public class RestaurantService {
	private final RestaurantRepository restaurantRepository;
	
	
	public RestaurantService(RestaurantRepository restaurantRepository)
	{
		this.restaurantRepository=restaurantRepository;
	}
	

	//店舗名が重複してないか判定
	public boolean hasSameRestaurantName(RestaurantCreateForm restaurantCreateForm)
	{
		List<Restaurants>list=restaurantRepository.findAll();
		
		for(Restaurants restaurant:list)
		{
			if(restaurantCreateForm.getName().equals(restaurant.getName()))
			{
				return true;
			}
		}
		return false;
	}
	
	@Transactional
	public void register(RestaurantCreateForm restaurantCreateForm)
	{
		Restaurants restaurant=new Restaurants();
		restaurant.setName(restaurantCreateForm.getName());
	}
	
}
